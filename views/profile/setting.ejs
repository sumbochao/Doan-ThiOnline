<!DOCTYPE html>
<html>

<head>
    <title class="next-head"><%- info.username%></title>
    <meta charSet="utf-8" class="next-head" />
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />
    <link rel="shortcut icon" type="image/png" href="/images/logo-icon.png" />
    <link rel="stylesheet" href="/css/house.css" />
    <style>
            .dropdownUserAvatar:hover{
                border:1px solid #007EE5;
                border-radius: 7px;
                color:#007EE5;
            }
            .value {
                font-size: 16px;
                color: rgb(1, 126, 229);
                padding-left: 8px;
                font-weight: 600;
            }
            .bp3-heading{
                line-height: 26px;
            }
            .bp3-tab{
                outline: none;
            }
            .dEbEEE {
            display: inline-block;
            font-size: 14px;
            font-weight: 500;
            background-color: rgb(252, 242, 203);
            color: rgb(241, 196, 15);
            padding: 2px 4px;
            border-radius: 2px;
        }
        .active{
            font-weight: 600;
        }
        .edSYmb {
    width: 100%;
}
.bhXPIm {
    display: flex;
    flex-direction: row;
    margin-top: 16px;
}
.jWAytC {
    width: 275px;
    margin-right: 16px;
}
.kjpgjw .subMenuItem {
    margin-top: 8px;
    height: 45px;
}
.kBPpHf {
    display: flex;
    flex-direction: row;
    -webkit-box-align: center;
    align-items: center;
    -webkit-box-pack: justify;
    justify-content: space-between;
    background-color: rgb(246, 246, 246);
    padding: 8px 16px;
    border-radius: 4px;
}
.juGMFu {
    flex: 1 1 0%;
}
.fCCwhG {
    background-color: rgb(255, 255, 255);
    border-width: 1px;
    border-style: solid;
    border-color: rgba(0, 0, 0, 0.03);
    border-image: initial;
    border-radius: 4px;
    padding: 16px 24px;
}
form{
    display:block
}
.cFCcOE {
    font-size: 18px;
    padding-bottom: 16px;
    margin-bottom: 16px;
    margin-top: 0px;
    border-bottom: 1px solid rgb(238, 238, 238);
}
.cFCcOE {
    font-size: 18px;
    padding-bottom: 16px;
    margin-bottom: 16px;
    margin-top: 0px;
    border-bottom: 1px solid rgb(238, 238, 238);
}
.kBPpHf .heading {
    display: flex;
    flex-direction: row;
    -webkit-box-align: center;
    align-items: center;
}
.kxpEFJ {
    width: 30px;
    height: 30px;
    display: flex;
    -webkit-box-align: center;
    align-items: center;
    -webkit-box-pack: center;
    justify-content: center;
    background-color: rgb(246, 246, 246);
    border-radius: 4px;
}
        </style>
</head>
<body>
    <div id="__next">
        <div class="Layout__LayoutWrapper-sc-72xje9-0 gNMUod">
                <header class="header Header__HeaderWrapper-sc-1a0k2zv-0 jsrRBM">
                        <div class="Header__HeaderNav-wwhct2-0 jiKYVK">
                            <div class="Header__RightHead-wwhct2-4 LQUjt Flex-no3b20-0 cYoqhr">
                                <a href="/">
                                    <div class="Logo__LogoStyle-ju6la0-0 eoCuSN" src="../images/logo.png"></div>
                                </a>
                                <div class="Header__ClearDiv-wwhct2-5 ioPZqo"></div>
                                <div class="style__SearchDropdownStyled-sc-1jkqjil-0 Hpwuf">
                                    <div class="bp3-input-group bp3-large bp3-radius search__InputGroupStyled-sc-1dtjrnl-0 bmnola">
                                        <span class="bp3-icon bp3-icon-search" icon="search">
                                                    <svg data-icon="search" width="16" height="16" viewBox="0 0 16 16">
                                                        <desc>search</desc>
                                                        <path d="M15.55 13.43l-2.67-2.68a6.94 6.94 0 0 0 1.11-3.76c0-3.87-3.13-7-7-7s-7 3.13-7 7 3.13 7 7 7c1.39 0 2.68-.42 3.76-1.11l2.68 2.67a1.498 1.498 0 1 0 2.12-2.12zm-8.56-1.44c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z" fill-rule="evenodd"></path>
                                                    </svg>
                                                </span>
                                        <input type="text" class="bp3-input" value="" placeholder="Tìm kiếm ..." style="padding-right:10px">
                                    </div>
                                </div>
                            </div>
                            <div style="border-right:1px solid rgb(238, 238, 238);margin-right:10px" class="Header__HeaderGroup-wwhct2-1 eYtCOf Flex-no3b20-0 cYoqhr">
                                <div class="Create__CreateWrapper-eivfz7-0 kVVbFx">
                                    <a href="/create-test" class="create">
                                        <span class="bp3-icon bp3-icon-annotation" icon="annotation">
                                                    <svg data-icon="annotation" width="14" height="14" viewBox="0 0 16 16">
                                                        <desc>annotation</desc>
                                                        <path d="M15.52 2.77c.3-.29.48-.7.48-1.15C16 .73 15.27 0 14.38 0c-.45 0-.85.18-1.15.48l-1.34 1.34 2.3 2.3 1.33-1.35zM7.4 10.9l6.21-6.21-2.3-2.3L5.1 8.6l2.3 2.3zM14 14H2V2h6.34l2-2H1C.45 0 0 .45 0 1v14c0 .55.45 1 1 1h14c.55 0 1-.45 1-1V5.66l-2 2V14zM3 13l3.58-1.29-2.29-2.27L3 13z" fill-rule="evenodd"></path>
                                                    </svg>
                                                </span>Tạo đề thi
                                    </a>
                                </div>
                        </div>
                        <a href="/profile" class="dropdownUserAvatar user-avatar__UserAvatarStyle-sc-12kuvrh-0 jwcHvZ">
                            <div class="avatar avatar__Circle-sc-1k5juv6-0 HeEnm" size="35">
                                <img style="border-radius: 17px" src=<%- info.avatar == null ? "/avatar-default.png" : info.avatar %> size="35" class="text">
                            </div>
                            <div class="userInfo user-avatar__InfoUser-sc-12kuvrh-3 kSwsUu">
                                <span class="user-avatar__Username-sc-12kuvrh-1 bCCEJz"><%- info.email%></span>
                                <span class="fullName"><%- info.username%></span>
                            </div>
                        </a>
                        </div>
                    </header>
    <div class="clearfix__Clearfix-w9lses-0 kQttEW" height="50"></div>
    <div class="profile__Container-sc-8m2709-0 edSYmb">
        <div class="Style__Container-y8lxdc-0 bhXPIm">
            <div class="Style__SideBar-y8lxdc-1 jWAytC">
                <div class="menu__SubMenuContainer-sc-1uux6qu-2 kjpgjw">
                    <div class="subMenuItem"><a class="menu__HeadingSubMenu-sc-1uux6qu-0 kBPpHf" href="/profile/setting">
                            <div class="heading">
                                <div class="menu__ImageWrapper-sc-1uux6qu-1 kxpEFJ"><span class="bp3-popover-wrapper"><span
                                            class="bp3-popover-target"><span class="bp3-icon bp3-icon-user" icon="user"
                                                tabindex="0"><svg data-icon="user" width="16" height="16"
                                                    viewBox="0 0 16 16">
                                                    <desc>user</desc>
                                                    <path
                                                        d="M7.99-.01A7.998 7.998 0 0 0 .03 8.77c.01.09.03.18.04.28.02.15.04.31.07.47.02.11.05.22.08.34.03.13.06.26.1.38.04.12.08.25.12.37.04.11.08.21.12.32a6.583 6.583 0 0 0 .3.65c.07.14.14.27.22.4.04.07.08.13.12.2l.27.42.1.13a7.973 7.973 0 0 0 3.83 2.82c.03.01.05.02.07.03.37.12.75.22 1.14.29l.2.03c.39.06.79.1 1.2.1s.81-.04 1.2-.1l.2-.03c.39-.07.77-.16 1.14-.29.03-.01.05-.02.07-.03a8.037 8.037 0 0 0 3.83-2.82c.03-.04.06-.08.09-.13.1-.14.19-.28.28-.42.04-.07.08-.13.12-.2.08-.13.15-.27.22-.41.04-.08.08-.17.12-.26.06-.13.11-.26.17-.39.04-.1.08-.21.12-.32.04-.12.08-.24.12-.37.04-.13.07-.25.1-.38.03-.11.06-.22.08-.34.03-.16.05-.31.07-.47.01-.09.03-.18.04-.28.02-.26.04-.51.04-.78-.03-4.41-3.61-7.99-8.03-7.99zm0 14.4c-1.98 0-3.75-.9-4.92-2.31.67-.36 1.49-.66 2.14-.95 1.16-.52 1.04-.84 1.08-1.27.01-.06.01-.11.01-.17-.41-.36-.74-.86-.96-1.44v-.01c0-.01-.01-.02-.01-.02-.05-.13-.09-.26-.12-.39-.28-.05-.44-.35-.5-.63-.06-.11-.18-.38-.15-.69.04-.41.2-.59.38-.67v-.06c0-.51.05-1.24.14-1.72.02-.13.05-.26.09-.39.17-.59.53-1.12 1.01-1.49.49-.38 1.19-.59 1.82-.59.62 0 1.32.2 1.82.59.48.37.84.9 1.01 1.49.04.13.07.26.09.4.09.48.14 1.21.14 1.72v.07c.18.08.33.26.37.66.03.31-.1.58-.16.69-.06.27-.21.57-.48.62-.03.13-.07.26-.12.38 0 .01-.01.04-.01.04-.21.57-.54 1.06-.94 1.42 0 .06.01.13.01.19.04.43-.12.75 1.05 1.27.65.29 1.47.6 2.14.95a6.415 6.415 0 0 1-4.93 2.31z"
                                                        fill-rule="evenodd"></path>
                                                </svg></span></span></span></div><span class="title">Thông tin cá
                                    nhân</span>
                            </div>
                        </a></div>
                        <div class="subMenuItem"><a class="menu__HeadingSubMenu-sc-1uux6qu-0 kBPpHf" href="/profile/setting/password">
                            <div class="heading">
                                <div class="menu__ImageWrapper-sc-1uux6qu-1 kxpEFJ"><span class="bp3-popover-wrapper"><span
                                    class="bp3-popover-target"><span class="bp3-icon bp3-icon-key" icon="key"
                                        tabindex="0"><svg data-icon="key" width="16" height="16"
                                            viewBox="0 0 16 16">
                                            <desc>key</desc>
                                            <path
                                                d="M11 0C8.24 0 6 2.24 6 5c0 1.02.31 1.96.83 2.75L.29 14.29a1.003 1.003 0 0 0 1.42 1.42L3 14.41l1.29 1.29c.18.19.43.3.71.3s.53-.11.71-.29l2-2c.18-.18.29-.43.29-.71 0-.28-.11-.53-.29-.71L6.41 11l1.83-1.83c.8.52 1.74.83 2.76.83 2.76 0 5-2.24 5-5s-2.24-5-5-5zm0 8c-.23 0-.45-.03-.66-.08-.01 0-.02-.01-.03-.01-.21-.05-.41-.12-.6-.21a3.014 3.014 0 0 1-1.62-2c0-.01-.01-.02-.01-.03C8.03 5.45 8 5.23 8 5c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3z"
                                                fill-rule="evenodd"></path>
                                        </svg></span></span></span></div><span class="title">Thay đổi mật khẩu</span>
                            </div>
                        </a></div>
                </div>
            </div>
            <div class="Style__Content-y8lxdc-2 juGMFu">
                <form name="form" onsubmit="return changeInfo()" class="Style__Container-sc-8jp12d-0 fCCwhG">
                    <h4 class="Style__Title-sc-8jp12d-1 cFCcOE">Thông tin cá nhân</h4>
                    <div class="bp3-form-group bp3-intent-"><label class="bp3-label">Họ và tên <span
                                class="bp3-text-muted"></span></label>
                        <div class="bp3-form-content">
                            <div class="bp3-input-group bp3-intent- bp3-large"><input name="username" class="bp3-input"
                                    value="<%- info.username%>" style="padding-right: 10px;"></div>
                        </div>
                    </div>
                    <div class="personal-info__FlexList-sc-1xb6acl-0 lVphw">
                        <div class="column">
                            <div class="bp3-form-group bp3-intent-"><label class="bp3-label">Giới tính <span
                                        class="bp3-text-muted"></span></label>
                                        <select name="sex" style="width: 100%; height: 40px; background-color: white;border-color: #d4d4dd;outline:none">
                                        <option value= ''>Chọn giới tính</option>
                                        <option value="Nam" <%- info.sex ==="Nam" ? 'selected' : '' %>  >Nam</option>    
                                        <option value="Nữ" <%- info.sex ==="Nữ" ? 'selected' : '' %>  >Nữ</option>  
                                        <option value="Khác" <%- info.sex ==="Khác" ? 'selected' : '' %> >Khác</option>      
                                        </select>
                            </div>
                        </div>
                        <div class="column">
                            <div class="bp3-form-group bp3-intent-"><label class="bp3-label">Số điện thoại <span
                                        class="bp3-text-muted"></span></label>
                                <div class="bp3-form-content">
                                    <div class="bp3-input-group bp3-intent- bp3-large"><input type="text" maxlength =11 name="phone" value="<%- info.phone%>" class="bp3-input"
                                            value="" style="padding-right: 45px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" name ="id" value="<%- info.id%>">
                    <div class="bp3-form-group bp3-intent-"><label class="bp3-label">Giới thiệu bản thân<span
                                class="bp3-text-muted"></span></label>
                        <div class="bp3-form-content"><textarea style="min-height:80px" name="introduction"
                                class="bp3-input bp3-intent- bp3-fill bp3-large"><%- info.introduction%></textarea></div>
                    </div><button type="submit" class="bp3-button bp3-fill bp3-large bp3-intent-primary"><span
                            class="bp3-button-text">Lưu lại</span></button>
                </form>
                <script>
                    function changeInfo(){
                        fetch('/api/user',{
                            method: "PUT",
                            headers:{
                            'Content-Type': 'application/json',
                            },
                            body:JSON.stringify({
                                id:form.id.value,
                                username:form.username.value,
                                sex:form.sex.value,
                                phone:form.phone.value,
                                introduction:form.introduction.value
                            })
                        })
                        .then(function(response) {
                            alert('Lưu lại thành công')
                            location.href = "/profile"
                        })
                        
                        .catch(err=>{
                            alert("Server đang lỗi,vui lòng thử lại sau.");
                            console.log(err)
                        });
                        return false;
                    }
                </script>
            </div>
        </div>
    </div>
    </div>
    </div>
</body>

</html>